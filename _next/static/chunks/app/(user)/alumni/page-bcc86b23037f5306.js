(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3156],{4506:function(e,t,a){Promise.resolve().then(a.bind(a,6069))},6069:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9268),r=a(3415),n=a(6394),s=a.n(n),i=a(6006),c=e=>{var t;let{item:a,dtProdi:n}=e,i=a.foto?"".concat(r._n,"/").concat(a.foto):"/images/no-image.png";return(0,l.jsxs)("div",{className:"w-full mx-auto bg-black/20 rounded-lg p-5 hover:shadow-md hover:scale-105",children:[(0,l.jsx)("div",{className:"relative w-32 h-32 mx-auto",children:(0,l.jsx)(s(),{src:i,className:"rounded-full",alt:"Profile picture",fill:!0})}),(0,l.jsx)("h2",{className:"text-center text-lg lg:text-2xl font-semibold mt-3",children:a.nama}),(0,l.jsx)("p",{className:"text-center text-gray-100 mt-1",children:a.jenkel}),(0,l.jsx)("p",{className:"text-center text-gray-100 mt-1",children:null==n?void 0:null===(t=n.find(e=>e.id===parseInt(a.prodi_id)))||void 0===t?void 0:t.nama}),(0,l.jsxs)("div",{className:"flex justify-center mt-5",children:[(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 mx-3",children:a.thn_masuk}),(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 mx-3",children:"-"}),(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 mx-3",children:a.thn_lulus})]}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsxs)("div",{className:"text-gray-100 flex flex-col gap-2 mt-2",children:[(0,l.jsxs)("p",{children:["Email : ",a.email]}),(0,l.jsxs)("p",{children:["Alamat Sekarang : ",a.alamat_lengkap," ",a.kecamatan.nama,","," ",a.kecamatan.kabupaten.nama,"-",a.kecamatan.kabupaten.provinsi.nama]})]})})]})},o=a(8350),d=a(5437),u=a(4496),m=a(2961),f=a(4502),h=a(6008),x=a(8518),p=()=>{let[e,t]=(0,i.useState)(1),[a,r]=(0,i.useState)(12),[n,s]=(0,i.useState)(""),[p,g]=(0,i.useState)("thn_lulus"),[v,b]=(0,i.useState)("desc"),[j,y]=(0,i.useState)(!1),{control:w,watch:N,setValue:k}=(0,x.cI)(),[_,Z]=(0,i.useState)();(0,i.useEffect)(()=>{y(!0)},[]);let C=(0,h.useRouter)(),P=(0,h.useSearchParams)(),E=P.get("search")||"",S=parseInt(P.get("prodi_id")||"")||"",L=parseInt(P.get("page")||"1")||1,R=parseInt(P.get("limit")||"12")||12,F=N("prodi_id")||"",I=e=>{let{prodi_id:t,search:a="",page:l,limit:r,orderBy:n,sort:s}=e;C.push("/alumni?prodi_id=".concat(t,"&search=").concat(a,"&page=").concat(l,"&limit=").concat(r,"&orderBy=").concat(n,"&sort=").concat(s))};(0,i.useEffect)(()=>(I({prodi_id:F,searchParams:E,page:e,limit:a,orderBy:p,sort:v}),()=>{}),[F,e]),(0,i.useEffect)(()=>{let t=1;""===n&&(t=e),I({prodi_id:F,search:n,page:t,limit:a,orderBy:p,sort:v})},[n]),(0,i.useEffect)(()=>{k("prodi_id",S),t(1)},[S]);let{setProdi:O,dtProdi:U}=(0,f.Z)(),V=async()=>{await O({})};return(0,i.useEffect)(()=>{V()},[]),(0,i.useEffect)(()=>{window.scrollTo(0,0);let e=async()=>{try{let e=await (0,m.Z)({prodi_id:F,search:E,page:L,limit:R,orderBy:p,sort:v});Z(e)}catch(e){console.error("Failed to fetch data:",e)}};e()},[F,E,L]),(0,l.jsxs)("div",{className:"h-full flex flex-col gap-4 overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center mt-4 md:flex-row gap-4",children:[(0,l.jsx)(o.Z,{addClass:"w-full",onChange:e=>s(e),placeholder:"Cari alumni",defaultValue:E}),j&&(null==U?void 0:U.data)&&(0,l.jsx)(u.Z,{name:"prodi_id",dataDb:null==U?void 0:U.data,body:["id","nama"],control:w,placeholder:"Pilih Prodi",addClass:"shrink w-full md:w-64"})]}),(0,l.jsxs)("div",{className:"h-full flex flex-col px-4 overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-track-blue-800 scrollbar-thumb-gray-50",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 ",children:(null==_?void 0:_.data)&&(null==_?void 0:_.data.map(e=>(0,l.jsx)(c,{item:e,dtProdi:null==U?void 0:U.data},e.id)))}),(null==_?void 0:_.last_page)>1&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(d.Z,{currentPage:null==_?void 0:_.current_page,totalPages:null==_?void 0:_.last_page,setPage:t})})]})]})}},8350:function(e,t,a){"use strict";var l=a(9268);a(6006),t.Z=e=>{let{placeholder:t,addClass:a,onChange:r,defaultValue:n=""}=e;return(0,l.jsx)("div",{className:a,children:(0,l.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",placeholder:t,onChange:e=>{r(e.target.value)},defaultValue:n})})}},5437:function(e,t,a){"use strict";var l=a(9268);a(6006);var r=a(8136);t.Z=e=>{let{totalPages:t,currentPage:a,setPage:n}=e,s=[];if(t<=5)s=Array.from({length:t},(e,t)=>t+1);else{s=[1,a-1,a,a+1,t],s=(s=Array.from(new Set(s)).sort((e,t)=>e-t)).filter(e=>e>0&&e<=t);for(let e=1;e<s.length-1;e++)s[e]-s[e-1]>1&&(s.splice(e,0,"..."),e++);t-s[s.length-2]>1&&s.splice(s.length-1,0,"...")}return(0,l.jsx)("div",{className:"h-full",children:(0,l.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[a>1&&(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>n(a-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,l.jsx)(r.pjk,{})})}),s.map((e,t)=>"..."===e?(0,l.jsx)("li",{className:"flex items-end text-xl",children:(0,l.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},t):(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>n(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==a?"bg-blue-900 text-white":""),children:e})},t)),a<t&&(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>n(a+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,l.jsx)(r.fmn,{})})})]})})}},4496:function(e,t,a){"use strict";var l=a(9268);a(6006);var r=a(3336),n=a(8518);t.Z=e=>{let{dataDb:t,body:a,control:s,required:i,name:c,errors:o,placeholder:d,addClass:u,label:m,defaultOptions:f=!0}=e,h={multiValue:(e,t)=>t.data.isFixed?{...e,backgroundColor:"gray"}:e,multiValueLabel:(e,t)=>t.data.isFixed?{...e,fontWeight:"bold",color:"white",paddingRight:6}:e,multiValueRemove:(e,t)=>t.data.isFixed?{...e,display:"none"}:e},x=(e,t)=>{let a=e[t];if("id"===t)return{value:a,label:""};if(!t.includes("."))return{value:"",label:a};{let[a,...l]=t.split("."),r=e[a];return x(r,l.join("."))}},p=()=>{let e=t&&t.map((e,t)=>{let l=a.map(t=>x(e,t)),r=l.map(e=>e.label).filter(e=>""!==e),n=r.join(r.length>1?" - ":"");return{value:l.find(e=>""!==e.value).value,label:n}});return e},g=e=>{var t;return null===(t=p())||void 0===t?void 0:t.filter(t=>t.label.toLowerCase().includes(e.toLowerCase()))},v=(e,t)=>{setTimeout(()=>{t(g(e))},1e3)};return(0,l.jsxs)("div",{className:u,children:[m&&(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:m}),i&&(0,l.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,l.jsx)(n.Qr,{name:c,control:s,rules:{required:i},render:e=>{var t;let{field:{onChange:a,value:n,ref:s}}=e;return(0,l.jsx)(r.Z,{cacheOptions:!0,defaultOptions:f,isClearable:!0,isSearchable:!0,loadOptions:v,placeholder:d,menuPlacement:"auto",menuPosition:"fixed",menuPortalTarget:document.body,styles:h,ref:s,value:(null===(t=p())||void 0===t?void 0:t.find(e=>e.value===n))||null,onChange:e=>a(e?e.value:e)})}}),(null==o?void 0:o.type)==="required"&&(0,l.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[m," tidak boleh kosong"]})]})}},2961:function(e,t,a){"use strict";a.d(t,{Z:function(){return r},b:function(){return n}});var l=a(3415);async function r(e){let{prodi_id:t,search:a,page:r,limit:n=12,orderBy:s,sort:i}=e,c=await fetch("".concat(l._n,"/api/alumni?prodi_id=").concat(t,"&search=").concat(a,"&page=").concat(r,"&limit=").concat(n,"&orderBy=").concat(s,"&sort=").concat(i),{next:{revalidate:1e3}});if(!c.ok)throw Error("Failed to fetch data");let{data:o}=await c.json();return o}async function n(e){let{prodi_id:t,search:a}=e,r=await fetch("".concat(l._n,"/api/alumni/all?prodi_id=").concat(t,"&search=").concat(a),{next:{revalidate:1e3}});if(!r.ok)throw Error("Failed to fetch data");let{data:n}=await r.json();return n}},3415:function(e,t,a){"use strict";a.d(t,{I8:function(){return n},Sj:function(){return s},_n:function(){return r},hi:function(){return i}});var l=a(4214);let r="https://back.alumni.fstuogp.com",n=l.Z.create({baseURL:"".concat(r,"/auth")}),s=l.Z.create({baseURL:"".concat(r,"/crud")}),i=l.Z.create({baseURL:"".concat(r,"/api")});l.Z.create({baseURL:"".concat(r,"/storage")})},4502:function(e,t,a){"use strict";var l=a(2561),r=a(4475),n=a(4214);let s=(0,l.Ue)((0,r.mW)((e,t)=>({dtProdi:[],setProdi:async t=>{let{page:a=1,limit:l=10,search:r}=t;try{var s;let t=await (0,n.Z)({method:"get",url:"https://back.edom.fstuogp.com/api/prodi",params:{limit:l,page:a,search:r}}),i=null===(s=t.data)||void 0===s?void 0:s.data;return i.data=i.data.filter(e=>"umum"!==e.nama),e(e=>({...e,dtProdi:i})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=s}},function(e){e.O(0,[6680,8348,6394,7742,2629,3336,9253,7698,1744],function(){return e(e.s=4506)}),_N_E=e.O()}]);