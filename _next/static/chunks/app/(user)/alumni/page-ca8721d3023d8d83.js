(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3156],{4506:function(e,a,t){Promise.resolve().then(t.bind(t,6069))},6069:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var l=t(9268),r=t(3415),n=t(6394),s=t.n(n),i=t(6006),c=e=>{var a;let{item:t,dtProdi:n}=e,i=t.foto?"".concat(r._n,"/").concat(t.foto):"/images/no-image.png";return(0,l.jsxs)("div",{className:"w-full mx-auto bg-black/20 rounded-lg p-5 hover:shadow-md hover:scale-105",children:[(0,l.jsx)("div",{className:"relative w-32 h-32 mx-auto",children:(0,l.jsx)(s(),{src:i,className:"rounded-full",alt:"Profile picture",fill:!0})}),(0,l.jsx)("h2",{className:"text-center text-lg lg:text-2xl font-semibold mt-3",children:t.nama}),(0,l.jsx)("p",{className:"text-center text-gray-100 mt-1",children:t.jenkel}),(0,l.jsx)("p",{className:"text-center text-gray-100 mt-1",children:null==n?void 0:null===(a=n.find(e=>e.id===parseInt(t.prodi_id)))||void 0===a?void 0:a.nama}),(0,l.jsxs)("div",{className:"flex justify-center mt-5",children:[(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 mx-3",children:t.thn_masuk}),(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 mx-3",children:"-"}),(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 mx-3",children:t.thn_lulus})]}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsxs)("div",{className:"text-gray-100 flex flex-col gap-2 mt-2",children:[(0,l.jsxs)("p",{children:["Email : ",t.email]}),(0,l.jsxs)("p",{children:["Alamat Sekarang : ",t.alamat_lengkap," ",t.kecamatan.nama,","," ",t.kecamatan.kabupaten.nama,"-",t.kecamatan.kabupaten.provinsi.nama]})]})})]})},o=t(8350),d=t(5437),u=t(4496),m=t(2961),f=t(4502),h=t(6008),x=t(9700),p=()=>{let[e,a]=(0,i.useState)(1),[t,r]=(0,i.useState)(10),[n,s]=(0,i.useState)(""),[p,v]=(0,i.useState)(!1),{control:g,watch:b,setValue:j}=(0,x.cI)(),[w,y]=(0,i.useState)();(0,i.useEffect)(()=>{v(!0)},[]);let N=(0,h.useRouter)(),k=(0,h.useSearchParams)(),_=k.get("search")||"",Z=parseInt(k.get("prodi_id")||"")||"",C=parseInt(k.get("page")||"1")||1,P=b("prodi_id")||"",E=e=>{let{prodi_id:a,search:t="",page:l}=e;N.push("/alumni?prodi_id=".concat(a,"&search=").concat(t,"&page=").concat(l))};(0,i.useEffect)(()=>(E({prodi_id:P,searchParams:_,page:e}),()=>{}),[P,e]),(0,i.useEffect)(()=>{let a=1;""===n&&(a=e),E({prodi_id:P,search:n,page:a})},[n]),(0,i.useEffect)(()=>{j("prodi_id",Z),a(1)},[Z]);let{setProdi:S,dtProdi:L}=(0,f.Z)(),R=async()=>{await S({})};return(0,i.useEffect)(()=>{R()},[]),(0,i.useEffect)(()=>{window.scrollTo(0,0);let e=async()=>{try{let e=await (0,m.Z)({prodi_id:P,search:_,page:C});y(e)}catch(e){console.error("Failed to fetch data:",e)}};e()},[P,_,C]),(0,l.jsxs)("div",{className:"h-full flex flex-col gap-4 overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center mt-4 md:flex-row gap-4",children:[(0,l.jsx)(o.Z,{addClass:"w-full",onChange:e=>s(e),placeholder:"Cari alumni",defaultValue:_}),p&&(null==L?void 0:L.data)&&(0,l.jsx)(u.Z,{name:"prodi_id",dataDb:null==L?void 0:L.data,body:["id","nama"],control:g,placeholder:"Pilih Prodi",addClass:"shrink w-full md:w-64"})]}),(0,l.jsxs)("div",{className:"h-full flex flex-col px-4 overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-track-blue-800 scrollbar-thumb-gray-50",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 ",children:(null==w?void 0:w.data)&&(null==w?void 0:w.data.map(e=>(0,l.jsx)(c,{item:e,dtProdi:null==L?void 0:L.data},e.id)))}),(null==w?void 0:w.last_page)>1&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(d.Z,{currentPage:null==w?void 0:w.current_page,totalPages:null==w?void 0:w.last_page,setPage:a})})]})]})}},8350:function(e,a,t){"use strict";var l=t(9268);t(6006),a.Z=e=>{let{placeholder:a,addClass:t,onChange:r,defaultValue:n=""}=e;return(0,l.jsx)("div",{className:t,children:(0,l.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",placeholder:a,onChange:e=>{r(e.target.value)},defaultValue:n})})}},5437:function(e,a,t){"use strict";var l=t(9268);t(6006);var r=t(8136);a.Z=e=>{let{totalPages:a,currentPage:t,setPage:n}=e,s=[];if(a<=5)s=Array.from({length:a},(e,a)=>a+1);else{s=[1,t-1,t,t+1,a],s=(s=Array.from(new Set(s)).sort((e,a)=>e-a)).filter(e=>e>0&&e<=a);for(let e=1;e<s.length-1;e++)s[e]-s[e-1]>1&&(s.splice(e,0,"..."),e++);a-s[s.length-2]>1&&s.splice(s.length-1,0,"...")}return(0,l.jsx)("div",{className:"h-full",children:(0,l.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[t>1&&(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>n(t-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,l.jsx)(r.pjk,{})})}),s.map((e,a)=>"..."===e?(0,l.jsx)("li",{className:"flex items-end text-xl",children:(0,l.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},a):(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>n(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==t?"bg-blue-900 text-white":""),children:e})},a)),t<a&&(0,l.jsx)("li",{children:(0,l.jsx)("div",{onClick:()=>n(t+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,l.jsx)(r.fmn,{})})})]})})}},4496:function(e,a,t){"use strict";var l=t(9268);t(6006);var r=t(3336),n=t(9700);a.Z=e=>{let{dataDb:a,body:t,control:s,required:i,name:c,errors:o,placeholder:d,addClass:u,label:m,defaultOptions:f=!0}=e,h={multiValue:(e,a)=>a.data.isFixed?{...e,backgroundColor:"gray"}:e,multiValueLabel:(e,a)=>a.data.isFixed?{...e,fontWeight:"bold",color:"white",paddingRight:6}:e,multiValueRemove:(e,a)=>a.data.isFixed?{...e,display:"none"}:e},x=(e,a)=>{let t=e[a];if("id"===a)return{value:t,label:""};if(!a.includes("."))return{value:"",label:t};{let[t,...l]=a.split("."),r=e[t];return x(r,l.join("."))}},p=()=>{let e=a&&a.map((e,a)=>{let l=t.map(a=>x(e,a)),r=l.map(e=>e.label).filter(e=>""!==e),n=r.join(r.length>1?" - ":"");return{value:l.find(e=>""!==e.value).value,label:n}});return e},v=e=>{var a;return null===(a=p())||void 0===a?void 0:a.filter(a=>a.label.toLowerCase().includes(e.toLowerCase()))},g=(e,a)=>{setTimeout(()=>{a(v(e))},1e3)};return(0,l.jsxs)("div",{className:u,children:[m&&(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:m}),i&&(0,l.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,l.jsx)(n.Qr,{name:c,control:s,rules:{required:i},render:e=>{var a;let{field:{onChange:t,value:n,ref:s}}=e;return(0,l.jsx)(r.Z,{cacheOptions:!0,defaultOptions:f,isClearable:!0,isSearchable:!0,loadOptions:g,placeholder:d,menuPlacement:"auto",menuPosition:"fixed",menuPortalTarget:document.body,styles:h,ref:s,value:(null===(a=p())||void 0===a?void 0:a.find(e=>e.value===n))||null,onChange:e=>t(e?e.value:e)})}}),(null==o?void 0:o.type)==="required"&&(0,l.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[m," tidak boleh kosong"]})]})}},2961:function(e,a,t){"use strict";t.d(a,{Z:function(){return r},b:function(){return n}});var l=t(3415);async function r(e){let{prodi_id:a,search:t,page:r}=e,n=await fetch("".concat(l._n,"/api/alumni?prodi_id=").concat(a,"&search=").concat(t,"&page=").concat(r),{next:{revalidate:1e3}});if(!n.ok)throw Error("Failed to fetch data");let{data:s}=await n.json();return s}async function n(e){let{prodi_id:a,search:t}=e,r=await fetch("".concat(l._n,"/api/alumni/all?prodi_id=").concat(a,"&search=").concat(t),{next:{revalidate:1e3}});if(!r.ok)throw Error("Failed to fetch data");let{data:n}=await r.json();return n}},3415:function(e,a,t){"use strict";t.d(a,{I8:function(){return n},Sj:function(){return s},_n:function(){return r},hi:function(){return i}});var l=t(4214);let r="https://back.alumni.fstuogp.com",n=l.Z.create({baseURL:"".concat(r,"/auth")}),s=l.Z.create({baseURL:"".concat(r,"/crud")}),i=l.Z.create({baseURL:"".concat(r,"/api")});l.Z.create({baseURL:"".concat(r,"/storage")})},4502:function(e,a,t){"use strict";var l=t(2561),r=t(4475),n=t(4214);let s=(0,l.Ue)((0,r.mW)((e,a)=>({dtProdi:[],setProdi:async a=>{let{page:t=1,limit:l=10,search:r}=a;try{var s;let a=await (0,n.Z)({method:"get",url:"https://back.edom.fstuogp.com/api/prodi",params:{limit:l,page:t,search:r}}),i=null===(s=a.data)||void 0===s?void 0:s.data;return i.data=i.data.filter(e=>"umum"!==e.nama),e(e=>({...e,dtProdi:i})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));a.Z=s}},function(e){e.O(0,[6680,8348,6394,7742,2629,3336,9253,7698,1744],function(){return e(e.s=4506)}),_N_E=e.O()}]);