(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5209],{6497:function(t,e,a){Promise.resolve().then(a.bind(a,3700))},3700:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return P}});var r=a(9268),n=a(6006),s=a(593),o=a(5437),l=a(9639),i=a(2561),u=a(4475),c=a(3415),d=a(4406);let f=(0,i.Ue)((0,u.mW)((t,e)=>({dtPekerjaan:[],showPekerjaan:[],setPekerjaan:async e=>{let{page:a=1,limit:r=10,alumni_id:n,search:s}=e;try{let e=await d.Z.getState().setToken(),o=await (0,c.Sj)({method:"get",url:"/pekerjaan",headers:{Authorization:"Bearer ".concat(e)},params:{limit:r,page:a,search:s,alumni_id:n}});return t(t=>({...t,dtPekerjaan:o.data.data})),{status:"berhasil",data:o.data}}catch(t){var o;return{status:"error",error:null===(o=t.response)||void 0===o?void 0:o.data}}},setShowPekerjaan:async e=>{let{alumni_id:a}=e;try{let e=await d.Z.getState().setToken(),r=await (0,c.Sj)({method:"get",url:"/pekerjaan/".concat(a),headers:{Authorization:"Bearer ".concat(e)}});return t(t=>({...t,showPekerjaan:r.data.data})),{status:"berhasil",data:r.data}}catch(t){var r;return{status:"error",error:null===(r=t.response)||void 0===r?void 0:r.data}}},addData:async e=>{try{let a=await d.Z.getState().setToken(),r=await (0,c.Sj)({method:"post",url:"/pekerjaan",headers:{Authorization:"Bearer ".concat(a)},data:e});return t(t=>({dtPekerjaan:{last_page:t.dtPekerjaan.last_page,current_page:t.dtPekerjaan.current_page,data:[r.data.data,...t.dtPekerjaan.data]}})),{status:"berhasil tambah",data:r.data}}catch(t){return{status:"error",data:t.response.data}}},removeData:async e=>{try{let a=await d.Z.getState().setToken(),r=await (0,c.Sj)({method:"delete",url:"/pekerjaan/".concat(e),headers:{Authorization:"Bearer ".concat(a)}});return t(t=>({dtPekerjaan:{last_page:t.dtPekerjaan.last_page,current_page:t.dtPekerjaan.current_page,data:t.dtPekerjaan.data.filter(t=>t.id!==e)}})),{status:"berhasil hapus",data:r.data}}catch(t){return{status:"error",data:t.response.data}}},updateData:async(e,a)=>{try{let r=await d.Z.getState().setToken(),n=await (0,c.Sj)({method:"PUT",url:"/pekerjaan/".concat(e),headers:{Authorization:"Bearer ".concat(r)},data:a});return t(t=>({dtPekerjaan:{last_page:t.dtPekerjaan.last_page,current_page:t.dtPekerjaan.current_page,data:t.dtPekerjaan.data.map(t=>t.id===e?{...t,...n.data.data}:t)}})),{status:"berhasil update",data:n.data}}catch(t){return{status:"error",data:t.response.data}}}})));var m=t=>{let{setDelete:e,setEdit:a,search:i,alumni_id:u}=t,{setPekerjaan:c,dtPekerjaan:d}=f(),[m,p]=(0,n.useState)(1),[h,j]=(0,n.useState)(10),[g,b]=(0,n.useState)(!0),y=async()=>{await c({page:m,limit:h,search:i,alumni_id:u}),b(!1)};return(0,n.useEffect)(()=>(y(),()=>{}),[m,h]),(0,n.useEffect)(()=>{p(1),y()},[i]),(0,r.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:g?(0,r.jsx)(s.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)(l.Z,{headTable:["No","Instansi","Tgl. Masuk","Tgl. Keluar","Jabatan","Alamat Kantor","Tlp Kantor","Email Kantor","Aksi"],tableBodies:["nm_instansi","tgl_mulai","tgl_selesai","jabatan","alamat_kantor","tlp_kantor","email_kantor"],dataTable:d.data,page:m,limit:h,setEdit:a,setDelete:e,ubah:!0,hapus:!0})}),(null==d?void 0:d.last_page)>1&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(o.Z,{currentPage:null==d?void 0:d.current_page,totalPages:null==d?void 0:d.last_page,setPage:p})})]})})},p=a(366),h=a(2985),j=a(7808),g=a(9442),b=a(9700),y=a(5407);a(6760);var _=t=>{let{register:e,errors:a,control:n,dtEdit:s,watch:o,setValue:l,fileEdit:i,showModal:u,startDate:c,setStartDate:d,selesDate:f,setSelesDate:m}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{label:"Nama Instansi",name:"nm_instansi",register:e,required:!0,minLength:3,errors:a.nm_instansi,addClass:"col-span-4"}),(0,r.jsx)(y.Z,{name:"tgl_mulai",control:n,startDate:c,setStartDate:d,label:"Mulai Kerja",required:!0,errors:a.tgl_mulai,addClass:"col-span-4 lg:col-span-2"}),(0,r.jsx)(y.Z,{name:"tgl_selesai",control:n,startDate:f,setStartDate:m,label:"Berhenti Kerja",addClass:"col-span-4 lg:col-span-2"}),(0,r.jsx)(h.Z,{label:"jabatan",name:"jabatan",register:e,required:!0,minLength:3,errors:a.jabatan,addClass:"col-span-4 lg:col-span-2"}),(0,r.jsx)(h.Z,{label:"Email Kantor",name:"email_kantor",register:e,required:!0,minLength:3,type:"email",errors:a.email_kantor,addClass:"col-span-4 lg:col-span-2"}),(0,r.jsx)(h.Z,{label:"Alamat Kantor",name:"alamat_kantor",register:e,required:!0,minLength:3,errors:a.alamat_kantor,addClass:"col-span-4"}),(0,r.jsx)(h.Z,{label:"Tlp. Kantor",name:"tlp_kantor",register:e,required:!0,minLength:3,errors:a.tlp_kantor,addClass:"col-span-4"})]})},v=t=>{let{showModal:e,setShowModal:a,dtEdit:s,alumni_id:o}=t,{addData:l,updateData:i}=f(),[u,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(""),[y,v]=(0,n.useState)(""),{register:k,handleSubmit:x,setValue:w,control:S,formState:{errors:Z},watch:P}=(0,b.cI)(),D=()=>{w("id",""),w("alumni_id",o),w("nm_instansi",""),w("jabatan",""),w("alamat_kantor",""),w("tlp_kantor",""),w("email_kantor",""),w("tgl_mulai",""),w("tgl_selesai",null)};(0,n.useEffect)(()=>{s?(w("id",s.id),w("alumni_id",s.alumni_id),w("nm_instansi",s.nm_instansi),w("jabatan",s.jabatan),w("alamat_kantor",s.alamat_kantor),w("tlp_kantor",s.tlp_kantor),w("email_kantor",s.email_kantor),w("tgl_mulai",s.tgl_mulai),w("tgl_selesai",s.tgl_selesai),m(new Date(s.tgl_mulai)),(null==s?void 0:s.tgl_selesai)&&v(new Date(s.tgl_selesai))):D()},[e,s]);let O=async t=>{if(console.log({row:t}),s){let{data:e}=await i(s.id,t);(0,g.Z)({event:e}),a(!1)}else{let{data:e}=await l(t);console.log({data:e}),(0,g.Z)({event:e}),(null==e?void 0:e.type)!=="success"||D()}};return(0,r.jsx)(j.Z,{title:"Form Pekerjaan",showModal:e,setShowModal:a,children:(0,r.jsxs)("form",{onSubmit:x(O),children:[(0,r.jsx)(h.Z,{name:"id",register:k,type:"hidden"}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,r.jsx)(_,{register:k,errors:Z,dtEdit:s,control:S,watch:P,setValue:w,fileEdit:u,showModal:e,startDate:d,setStartDate:m,selesDate:y,setSelesDate:v})}),(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{text:"Simpan",onClick:x(O)})})]})})},k=a(686),x=a(8919),w=a(8350),S=a(6008);let Z=(0,i.Ue)((0,u.mW)((t,e)=>({dtAlumni:[],showAlumni:[],setAlumni:async e=>{let{page:a=1,limit:r=10,search:n,prodi_id:s}=e;try{let e=await (0,c.hi)({method:"get",url:"/alumni",params:{limit:r,page:a,search:n,prodi_id:s}});return t(t=>{var a;return{...t,dtAlumni:null===(a=e.data)||void 0===a?void 0:a.data}}),{status:"berhasil",data:e.data}}catch(t){return{status:"error",error:t.response.data}}},setShowAlumni:async e=>{try{let a=await (0,c.hi)({method:"get",url:"/alumni/".concat(e)});return t(t=>{var e;return{...t,showAlumni:null===(e=a.data)||void 0===e?void 0:e.data}}),{status:"berhasil",data:a.data}}catch(t){return{status:"error",error:t.response.data}}}})));var P=()=>{let{removeData:t,setShowPekerjaan:e,showPekerjaan:a}=f(),{setShowAlumni:s,showAlumni:o}=Z(),[l,i]=(0,n.useState)(!1),[u,c]=(0,n.useState)(!1),[d,h]=(0,n.useState)(),[j,b]=(0,n.useState)(),[y,_]=(0,n.useState)(""),P=(0,S.useSearchParams)(),D=parseInt(P.get("alumni_id")||"0"),O=async e=>{let{id:a,isDelete:r}=e;if(h(a),r){let{data:e}=await t(d);(0,g.Z)({event:e}),c(!1)}else c(!0)};return(0,n.useEffect)(()=>(e({alumni_id:D}),s(D),()=>{}),[D]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(x.x7,{}),(0,r.jsx)(v,{dtEdit:j,showModal:l,setShowModal:i,alumni_id:D}),(0,r.jsx)(k.Z,{showDel:u,setShowDel:c,setDelete:O}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,r.jsxs)("p",{children:["Silahkan Mengolah data Pekerjaan ",o&&(null==o?void 0:o.nama)]}),(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{text:"Tambah Pekerjaan",onClick:()=>{i(!0),b(null)}})})]}),(0,r.jsx)(w.Z,{placeholder:"Cari Pekerjaan",onChange:t=>_(t)})]}),(0,r.jsx)(m,{setDelete:O,setEdit:t=>{i(!0),b(t)},search:y,alumni_id:D})]})}},5407:function(t,e,a){"use strict";var r=a(9268);a(6006);var n=a(9700),s=a(9977),o=a.n(s),l=a(5326),i=a.n(l);e.Z=t=>{let{control:e,required:a,name:s,errors:l,addClass:u,label:c,startDate:d,setStartDate:f}=t;return(0,r.jsxs)("div",{className:u,children:[(0,r.jsxs)("label",{className:"text-sm font-medium text-gray-700 tracking-wide block",children:[c,a&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"})]}),(0,r.jsx)(n.Qr,{name:s,control:e,rules:{required:a},render:t=>{let{field:e}=t;return(0,r.jsx)(o(),{selected:d,onChange:t=>{if(t){f(t);let a=i()(t).format("YYYY-MM-DD");e.onChange(a)}else f(null),e.onChange("")},dateFormat:"dd/MM/yyyy",value:d||"",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"w-[100%] border rounded-lg py-2 px-4"})}}),(null==l?void 0:l.type)==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[c," tidak boleh kosong"]})]})}},593:function(t,e,a){"use strict";var r=a(9268);a(6006),e.Z=()=>(0,r.jsx)("div",{children:"Loading..."})},6544:function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}a.d(e,{Z:function(){return r}})},184:function(t,e,a){"use strict";function r(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}a.d(e,{Z:function(){return r}})},8050:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}a.d(e,{Z:function(){return r}})},9449:function(t,e,a){"use strict";a.d(e,{Z:function(){return s}});var r=a(8774);function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(0,r.Z)(n.key),n)}}function s(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}},8340:function(t,e,a){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}a.d(e,{Z:function(){return o}});var n=a(965),s=a(184);function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var a,o=r(t);if(e){var l=r(this).constructor;a=Reflect.construct(o,arguments,l)}else a=o.apply(this,arguments);return function(t,e){if(e&&("object"===(0,n.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return(0,s.Z)(t)}(this,a)}}},5877:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});var r=a(8774);function n(t,e,a){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},3663:function(t,e,a){"use strict";function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function n(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}a.d(e,{Z:function(){return n}})},8774:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});var r=a(965);function n(t){var e=function(t,e){if("object"!==(0,r.Z)(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!==(0,r.Z)(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,r.Z)(e)?e:String(e)}},965:function(t,e,a){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a.d(e,{Z:function(){return r}})},4537:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});var r=a(6544);function n(t,e){if(t){if("string"==typeof t)return(0,r.Z)(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return(0,r.Z)(t,e)}}}},function(t){t.O(0,[6680,4550,8348,6394,7742,2629,3088,3334,483,9253,7698,1744],function(){return t(t.s=6497)}),_N_E=t.O()}]);