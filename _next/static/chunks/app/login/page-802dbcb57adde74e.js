(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{7241:function(e,t,r){Promise.resolve().then(r.bind(r,7668))},7668:function(e,t,r){"use strict";r.r(t);var n=r(9268),s=r(2985),a=r(4406),l=r(1712),i=r(6394),o=r.n(i),c=r(6008),u=r(6006),d=r(9700);t.default=e=>{let{setLogin:t,cekToken:r}=(0,a.Z)(),i=(0,c.useRouter)(),[m,h]=(0,u.useState)(""),[x,p]=(0,u.useState)(!1),f=async()=>{};(0,u.useEffect)(()=>(console.log("cek apakah sudah login atau belum"),f(),()=>{}),[]);let g=async()=>{let e=l.Z.get("token");if(e){let e=await r();console.log({cekAuth:e}),(null==e?void 0:e.error)||(console.log("sudah login"),i.push("/admin"))}p(!1)};(0,u.useEffect)(()=>{g()},[]);let{register:b,handleSubmit:v,formState:{errors:w}}=(0,d.cI)(),k=async e=>{var r;p(!0);let n=await t(e);if(null==n?void 0:n.error)h(null==n?void 0:null===(r=n.error)||void 0===r?void 0:r.pesan);else{let{data:e}=n;l.Z.set("token",e.token),l.Z.set("role",e.role),i.push("/admin")}setTimeout(()=>{p(!1)},1e3)};return(0,n.jsx)("section",{className:"h-screen bg-bg-1",children:(0,n.jsx)("div",{className:"flex flex-col md:flex-row items-center justify-end bg-white/5 backdrop-blur-lg",children:(0,n.jsx)("div",{className:"bg-white/5 backdrop-blur-xl w-full md:max-w-md lg:max-w-full  md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"w-full h-100",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-white",children:"SIGN IN KAUOGES"}),(0,n.jsx)(o(),{alt:"logo",src:"/images/logo-alumni.jpeg",width:150,height:150,className:"rounded-full"})]}),(0,n.jsxs)("div",{className:" my-8",children:[(0,n.jsx)("h1",{className:"text-xl md:text-2xl font-bold leading-tight text-center text-white",children:"Silahkan melakukan sign in"}),(0,n.jsx)("span",{children:m&&(0,n.jsx)("p",{className:"text-red-600",children:m})})]}),(0,n.jsxs)("form",{onSubmit:v(k),children:[(0,n.jsx)("div",{children:(0,n.jsx)(s.Z,{label:"Email",name:"email",register:b,required:!0,minLength:3,errors:w.email,addClass:"w-[100%]",type:"email",labelColor:"text-white"})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(s.Z,{label:"password",name:"password",register:b,required:!0,minLength:3,errors:w.password,addClass:"w-[100%]",type:"password",labelColor:"text-white"})}),x?(0,n.jsx)("p",{children:"Loading..."}):(0,n.jsx)("button",{type:"submit",className:"w-full block bg-blue-500 hover:bg-blue-400 focus:bg-blue-400 text-white font-semibold rounded-lg px-4 py-3 mt-6",children:"Sign In"})]})]})})})})}},2985:function(e,t,r){"use strict";var n=r(9268),s=r(6006),a=r(8136);t.Z=e=>{let{label:t,register:r,required:l,name:i,minLength:o,maxLength:c,errors:u,valueAsNumber:d,type:m="text",readOnly:h,placeholder:x,autoComplete:p="on",addClass:f,value:g,labelColor:b=" text-gray-700 "}=e,[v,w]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:f,children:[(0,n.jsx)("label",{htmlFor:i,className:"text-sm font-medium tracking-wide ".concat(b),children:t}),l&&(0,n.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:"password"===m?v?"text":"password":m,id:i,readOnly:h,placeholder:x,autoComplete:p,...r(i,{required:l,minLength:o,maxLength:c,valueAsNumber:d}),value:g}),"password"===m&&(0,n.jsx)("div",{className:"absolute right-2 top-0 flex items-center h-full cursor-pointer text-blue-600",onClick:()=>{w(!v)},children:v?(0,n.jsx)(a.rCC,{size:20}):(0,n.jsx)(a.I$m,{size:20})})]}),(null==u?void 0:u.type)==="required"&&(0,n.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==u?void 0:u.type)==="minLength"&&(0,n.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",o," karakter"]}),(null==u?void 0:u.type)==="maxLength"&&(0,n.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",c," karakter"]}),(null==u?void 0:u.type)==="pattern"&&(0,n.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})}},3415:function(e,t,r){"use strict";r.d(t,{I8:function(){return a},Sj:function(){return l},_n:function(){return s},hi:function(){return i}});var n=r(4214);let s="https://back.alumni.fstuogp.com",a=n.Z.create({baseURL:"".concat(s,"/auth")}),l=n.Z.create({baseURL:"".concat(s,"/crud")}),i=n.Z.create({baseURL:"".concat(s,"/api")});n.Z.create({baseURL:"".concat(s,"/storage")})},4406:function(e,t,r){"use strict";var n=r(2561),s=r(4475),a=r(3415),l=r(1712);let i=(0,n.Ue)((0,s.mW)((e,t)=>({setToken:async()=>{let e=l.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,a.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let e=await t().setToken();try{let t=await (0,a.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=i},1712:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return s}});var s=function e(t,r){function s(e,s,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var i in a)a[i]&&(l+="; "+i,!0!==a[i]&&(l+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+l}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},s=0;s<r.length;s++){var a=r[s].split("="),l=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(n[i]=t.read(l,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){s(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[6680,8348,6394,7742,2629,9253,7698,1744],function(){return e(e.s=7241)}),_N_E=e.O()}]);