(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4286],{141:function(e,t,r){Promise.resolve().then(r.bind(r,413))},413:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(9268),n=r(6006),s=r(593),l=r(5437),i=r(9639),o=r(2561),c=r(4475),u=r(3415),d=r(4406);let h=(0,o.Ue)((0,c.mW)((e,t)=>({dtKepuasan:[],showKepuasan:[],setKepuasan:async t=>{let{page:r=1,limit:a=10,search:n}=t;try{let t=await d.Z.getState().setToken(),s=await (0,u.Sj)({method:"get",url:"/kepuasan-pengguna",headers:{Authorization:"Bearer ".concat(t)},params:{limit:a,page:r,search:n}});return e(e=>({...e,dtKepuasan:s.data.data})),{status:"berhasil",data:s.data}}catch(e){var s;return{status:"error",error:null===(s=e.response)||void 0===s?void 0:s.data}}},setShowKepuasan:async t=>{let{id:r}=t;try{let t=await d.Z.getState().setToken(),a=await (0,u.Sj)({method:"get",url:"/kepuasan-pengguna/".concat(r),headers:{Authorization:"Bearer ".concat(t)}});return e(e=>({...e,showKepuasan:a.data.data})),{status:"berhasil",data:a.data}}catch(e){var a;return{status:"error",error:null===(a=e.response)||void 0===a?void 0:a.data}}}})));var p=r(7808),f=e=>{let{showModal:t,setShowModal:r,link_pengguna_id:l,pengguna:i}=e,{setShowKepuasan:o,showKepuasan:c}=h(),[u,d]=(0,n.useState)(!0);return(0,n.useEffect)(()=>(d(!0),o({id:l}),setTimeout(()=>{d(!1)},500),()=>{d(!0)}),[l]),console.log({showKepuasan:c}),(0,a.jsx)(p.Z,{title:"Penilain ".concat(i),showModal:t,setShowModal:r,width:"900px",children:u?(0,a.jsx)(s.Z,{}):(0,a.jsx)(a.Fragment,{children:(null==c?void 0:c.length)>0?(0,a.jsx)("div",{className:"flex flex-col gap-y-2 mb-4",children:null==c?void 0:c.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("span",{className:"min-w-[1.5rem]",children:[t+1,"."]}),(0,a.jsx)("p",{children:e.daftar_pertanyaan&&e.daftar_pertanyaan.pertanyaan})]}),(0,a.jsx)("div",{className:"ml-[1.5rem] flex flex-wrap gap-x-3 gap-y-2",children:(0,a.jsx)("p",{children:e.jawaban})})]},e.id))}):(0,a.jsx)("div",{children:"Belum ada penilaian"})})})},m=e=>{let{setDelete:t,setEdit:r,search:o}=e,{setKepuasan:c,dtKepuasan:u}=h(),[d,p]=(0,n.useState)(1),[m,x]=(0,n.useState)(10),[g,v]=(0,n.useState)(!0),[j,b]=(0,n.useState)(!1),[y,w]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),C=async()=>{await c({page:d,limit:m,search:o}),v(!1)};(0,n.useEffect)(()=>(C(),()=>{}),[d,m]),(0,n.useEffect)(()=>{p(1),C()},[o]);let _=e=>{let{link_pengguna_id:t,pengguna:r}=e;w(t),k(r),b(!0)};return(0,a.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[(0,a.jsx)(f,{showModal:j,setShowModal:b,link_pengguna_id:y,pengguna:N}),g?(0,a.jsx)(s.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(i.Z,{headTable:["No","Nama Pengguna","Nama Instansi","Nama Alumni",""],tableBodies:["pengguna.nama","pengguna.pekerjaan.nm_instansi","pengguna.pekerjaan.alumni.nama"],dataTable:u.data,page:d,limit:m,setEdit:r,setDelete:t,ubah:!1,hapus:!1,costume:e=>(0,a.jsx)("div",{className:"cursor-pointer hover:underline",onClick:()=>_({link_pengguna_id:e.id,pengguna:e.pengguna.nama}),children:"Lihat Kepuasan"})})}),(null==u?void 0:u.last_page)>1&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(l.Z,{currentPage:null==u?void 0:u.current_page,totalPages:null==u?void 0:u.last_page,setPage:p})})]})]})},x=r(8350),g=()=>{let[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)(""),l=async e=>{let{id:t,isDelete:r}=e};return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-4 flex justify-between",children:(0,a.jsx)("p",{children:"Silahkan Mengolah data Kepuasan Pengguna"})}),(0,a.jsx)(x.Z,{placeholder:"Cari Pengguna",onChange:e=>s(e)})]}),(0,a.jsx)(m,{setDelete:l,setEdit:e=>{t(!0)},search:r})]})}},8350:function(e,t,r){"use strict";var a=r(9268);r(6006),t.Z=e=>{let{placeholder:t,addClass:r,onChange:n,defaultValue:s=""}=e;return(0,a.jsx)("div",{className:r,children:(0,a.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",placeholder:t,onChange:e=>{n(e.target.value)},defaultValue:s})})}},593:function(e,t,r){"use strict";var a=r(9268);r(6006),t.Z=()=>(0,a.jsx)("div",{children:"Loading..."})},7808:function(e,t,r){"use strict";var a=r(9268);r(6006);var n=r(8136);t.Z=e=>{let{showModal:t,setShowModal:r,children:s,title:l,width:i=""}=e;return(0,a.jsx)("div",{className:"",children:t&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl w-[500px] h-min mt-[10%] max-h-[70%] overflow-hidden flex flex-col lg:w-[700px]",style:{width:i},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.2] mb-4 pb-2",children:[(0,a.jsx)("h5",{className:"text-xl font-roboto",children:l}),(0,a.jsx)(n.C7Q,{className:"cursor-pointer hover:text-primary",onClick:()=>r(!1)})]}),(0,a.jsx)("div",{className:"overflow-auto",children:s})]})})})}},5437:function(e,t,r){"use strict";var a=r(9268);r(6006);var n=r(8136);t.Z=e=>{let{totalPages:t,currentPage:r,setPage:s}=e,l=[];if(t<=5)l=Array.from({length:t},(e,t)=>t+1);else{l=[1,r-1,r,r+1,t],l=(l=Array.from(new Set(l)).sort((e,t)=>e-t)).filter(e=>e>0&&e<=t);for(let e=1;e<l.length-1;e++)l[e]-l[e-1]>1&&(l.splice(e,0,"..."),e++);t-l[l.length-2]>1&&l.splice(l.length-1,0,"...")}return(0,a.jsx)("div",{className:"h-full",children:(0,a.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[r>1&&(0,a.jsx)("li",{children:(0,a.jsx)("div",{onClick:()=>s(r-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,a.jsx)(n.pjk,{})})}),l.map((e,t)=>"..."===e?(0,a.jsx)("li",{className:"flex items-end text-xl",children:(0,a.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},t):(0,a.jsx)("li",{children:(0,a.jsx)("div",{onClick:()=>s(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==r?"bg-blue-900 text-white":""),children:e})},t)),r<t&&(0,a.jsx)("li",{children:(0,a.jsx)("div",{onClick:()=>s(r+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,a.jsx)(n.fmn,{})})})]})})}},9639:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var a=r(9268);r(6006);var n=r(3415),s=r(6394),l=r.n(s),i=r(5326),o=r.n(i),c=(e,t)=>{let r=t.split(".");if(Array.isArray(r)){let s=r.length>1?r.pop():r,i=r.length,c=1,u=r[0];for(;(e=e[u])&&c<i;)u=r[c],c++;if("object"==typeof e)return e?e[s]:"";if("tgl_mulai"===t||"tgl_selesai"===t)return o()(e).format("DD/MM/YYYY");if("image"===t||"foto"===t){let t=e;console.log({image:t});let r=t?"".concat(n._n,"/").concat(t):"/images/no-image.png";return e&&(0,a.jsx)(l(),{src:r,width:100,height:100,alt:""})}return"link"===t?e&&(0,a.jsx)("a",{href:"/stackholder/penilaian?link=".concat(e),target:"_blank",className:"hover:underline",children:"Buka Link"}):e}throw"parts is not valid array"},u=r(6008),d=r(8136),h=e=>{(0,u.useRouter)();let t=t=>(e.page-1)*e.limit+t+1;return(0,a.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsx)("tr",{children:e.headTable&&e.headTable.map((e,t)=>(0,a.jsx)("th",{scope:"col",className:"px-6 py-4",children:e},t))})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:e.dataTable&&e.dataTable.map((r,n)=>{let{id:s}=r,l=null==r?void 0:r.prodi_id;return(0,a.jsxs)("tr",{className:" ".concat(l&&1===l?"bg-blue-100":2===l?"bg-green-100":3===l?"bg-orange-100":"hover:bg-gray-50 hover:text-secondary"),children:[(0,a.jsx)("td",{className:"px-6 py-4 rounded-l-xl",children:t(n)}),e.tableBodies.map((e,t)=>(0,a.jsx)("td",{className:"px-6 py-4 }",children:c(r,e)},t)),(0,a.jsx)("td",{className:"px-6 py-4 rounded-r-xl",children:(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[e.costume&&e.costume(r),e.ubah&&(0,a.jsx)(d.Ph1,{onClick:()=>e.setEdit(r),size:20,className:"cursor-pointer hover:text-yellow-500",title:"Ubah"}),e.hapus&&(0,a.jsx)(d.AuQ,{onClick:()=>(null==e?void 0:e.setDelete)&&(null==e?void 0:e.setDelete({id:s,isDelete:!1})),size:20,className:"cursor-pointer hover:text-red-700",title:"Hapus"})]})})]},n)})})]})}},3415:function(e,t,r){"use strict";r.d(t,{I8:function(){return s},Sj:function(){return l},_n:function(){return n},hi:function(){return i}});var a=r(4214);let n="https://back.alumni.fstuogp.com",s=a.Z.create({baseURL:"".concat(n,"/auth")}),l=a.Z.create({baseURL:"".concat(n,"/crud")}),i=a.Z.create({baseURL:"".concat(n,"/api")});a.Z.create({baseURL:"".concat(n,"/storage")})},4406:function(e,t,r){"use strict";var a=r(2561),n=r(4475),s=r(3415),l=r(1712);let i=(0,a.Ue)((0,n.mW)((e,t)=>({setToken:async()=>{let e=l.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,s.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let e=await t().setToken();try{let t=await (0,s.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=i},3270:function(e,t,r){"use strict";r.d(t,{w_:function(){return o}});var a=r(6006),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=a.createContext&&a.createContext(n),l=function(){return(l=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r};function o(e){return function(t){return a.createElement(c,l({attr:l({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,l({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,n=e.attr,s=e.size,o=e.title,c=i(e,["attr","size","title"]),u=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==s?a.createElement(s.Consumer,null,function(e){return t(e)}):t(n)}},1712:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{Z:function(){return n}});var n=function e(t,r){function n(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=a({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var i in s)s[i]&&(l+="; "+i,!0!==s[i]&&(l+="="+s[i].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+l}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},n=0;n<r.length;n++){var s=r[n].split("="),l=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(a[i]=t.read(l,i),e===i)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){n(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[6680,4550,8348,6394,7742,9253,7698,1744],function(){return e(e.s=141)}),_N_E=e.O()}]);